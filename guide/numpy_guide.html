

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using ODL with NumPy and SciPy &mdash; odl 0.6.1.dev0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="odl 0.6.1.dev0 documentation" href="../index.html"/>
        <link rel="up" title="User’s guide – selected topics" href="guide.html"/>
        <link rel="next" title="Vectorized functions" href="vectorization_guide.html"/>
        <link rel="prev" title="Linear spaces" href="linearspace_guide.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> odl
          

          
          </a>

          
            
            
              <div class="version">
                0.6.1.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with ODL</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="guide.html">User’s guide – selected topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="operator_guide.html">Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="linearspace_guide.html">Linear spaces</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using ODL with NumPy and SciPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#casting-vectors-to-and-from-arrays">Casting vectors to and from arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-odl-vectors-with-numpy-functions">Using ODL vectors with NumPy functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#implementation-notes">Implementation notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#numpy-functions-as-operators">NumPy functions as Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-odl-with-scipy-linear-solvers">Using ODL with SciPy linear solvers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vectorization_guide.html">Vectorized functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="geometry_guide.html">Tomographic acquisition geometries</a></li>
<li class="toctree-l2"><a class="reference internal" href="functional_guide.html">Functional</a></li>
<li class="toctree-l2"><a class="reference internal" href="proximal_lang_guide.html">Using ODL with ProxImaL</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../math/math.html">Mathematical Background</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer zone</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/dev.html">Contributing to ODL</a></li>
</ul>
<p class="caption"><span class="caption-text">Useful facts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../refs.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../odl.html">odl</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">odl</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="guide.html">User’s guide – selected topics</a> &raquo;</li>
        
      <li>Using ODL with NumPy and SciPy</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/guide/numpy_guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-odl-with-numpy-and-scipy">
<span id="numpy-in-depth"></span><h1>Using ODL with NumPy and SciPy<a class="headerlink" href="#using-odl-with-numpy-and-scipy" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://www.numpy.org/">Numpy</a> is the ubiquitous library for array computations in Python, and is used by almost all major numerical packages. It provides optimized <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/arrays.html">Array objects</a> that allow efficient storage of large arrays. It also provides several optimized algorithms for many of the functions used in numerical programming, such as taking the cosine or adding two arrays.</p>
<p><a class="reference external" href="http://www.scipy.org/">SciPy</a> is a library built on top of NumPy providing more advanced algorithms such as linear solvers, statistics, signal and image processing etc.</p>
<p>Many operations are more naturally performed using NumPy/SciPy than with ODL, and with that in mind ODL has been designed so that interfacing with them is as easy and fast as possible.</p>
<div class="section" id="casting-vectors-to-and-from-arrays">
<h2>Casting vectors to and from arrays<a class="headerlink" href="#casting-vectors-to-and-from-arrays" title="Permalink to this headline">¶</a></h2>
<p>ODL vectors are stored in an abstract way, enabling storage on the CPU, GPU, or perhaps on a cluster on the other side of the world. This allows algorithms to be written in a generalized and storage-agnostic manner. Still, it is often convenient to be able to access the data and look at it, perhaps to initialize a vector, or to call an external function.</p>
<p>To cast a NumPy array to an element of an ODL vector space, you simply need to call the <a class="reference internal" href="../generated/odl.set.space.LinearSpace.element.html#odl.set.space.LinearSpace.element" title="odl.set.space.LinearSpace.element"><code class="xref any py py-meth docutils literal"><span class="pre">LinearSpace.element</span></code></a> method in an appropriate space:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r3</span> <span class="o">=</span> <span class="n">odl</span><span class="o">.</span><span class="n">rn</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">r3</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>If the data type and storage methods allow it, the element simply wraps the underlying array using a <a class="reference external" href="http://docs.scipy.org/doc/numpy/glossary.html#term-view">view</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">float_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">r3</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="n">float_arr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">data</span> <span class="ow">is</span> <span class="n">float_arr</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Casting ODL vector space elements to NumPy arrays can be done in two ways, either through the member function <a class="reference internal" href="../generated/odl.space.base_ntuples.NtuplesBaseVector.asarray.html#odl.space.base_ntuples.NtuplesBaseVector.asarray" title="odl.space.base_ntuples.NtuplesBaseVector.asarray"><code class="xref any py py-meth docutils literal"><span class="pre">NtuplesBaseVector.asarray</span></code></a>, or using <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.asarray.html#numpy.asarray" title="(in NumPy v1.13)"><code class="xref any docutils literal"><span class="pre">numpy.asarray</span></code></a>. These are both optimized and if possible return a view:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">asarray</span><span class="p">()</span>
<span class="go">array([ 1.,  2.,  3.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">array([ 1.,  2.,  3.])</span>
</pre></div>
</div>
<p>These methods work with any ODL object represented by an array. For example, in discretizations, a two-dimensional array can be used:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">space</span> <span class="o">=</span> <span class="n">odl</span><span class="o">.</span><span class="n">uniform_discr</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">space</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">asarray</span><span class="p">()</span>
<span class="go">array([[ 1.,  2.,  3.],</span>
<span class="go">       [ 4.,  5.,  6.],</span>
<span class="go">       [ 7.,  8.,  9.]])</span>
</pre></div>
</div>
</div>
<div class="section" id="using-odl-vectors-with-numpy-functions">
<h2>Using ODL vectors with NumPy functions<a class="headerlink" href="#using-odl-vectors-with-numpy-functions" title="Permalink to this headline">¶</a></h2>
<p>A very convenient feature of ODL is its seamless interaction with NumPy functions. For universal functions (<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/ufuncs.html">ufuncs</a>) this is supported both via method of the ODL object and by direct application of the NumPy functions. For example, using NumPy:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r3</span> <span class="o">=</span> <span class="n">odl</span><span class="o">.</span><span class="n">rn</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">r3</span><span class="o">.</span><span class="n">element</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">negative</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">rn(3).element([-1.0, -2.0, -3.0])</span>
</pre></div>
</div>
<p>This method always uses the NumPy implementation, which can involve overhead in case the data is not stored in a CPU space. To always enable optimized code, users can call the member <code class="xref any docutils literal"><span class="pre">NtuplesBaseVector.ufunc</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">ufuncs</span><span class="o">.</span><span class="n">negative</span><span class="p">()</span>
<span class="go">rn(3).element([-1.0, -2.0, -3.0])</span>
</pre></div>
</div>
<p>For other arbitrary functions, ODL vector space elements are generally accepted as input, but the output is often of <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref any docutils literal"><span class="pre">numpy.ndarray</span></code></a> type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;same&#39;</span><span class="p">)</span>
<span class="go">array([  4.,  10.,  12.])</span>
</pre></div>
</div>
<div class="section" id="implementation-notes">
<h3>Implementation notes<a class="headerlink" href="#implementation-notes" title="Permalink to this headline">¶</a></h3>
<p>The fact that the <code class="docutils literal"><span class="pre">x.ufuncs.negative()</span></code> interface is needed is a known issue with NumPy and a <a class="reference external" href="http://docs.scipy.org/doc/numpy-dev/neps/ufunc-overrides.html">fix is underway</a>. As of April 2016, this is not yet available.</p>
</div>
</div>
<div class="section" id="numpy-functions-as-operators">
<h2>NumPy functions as Operators<a class="headerlink" href="#numpy-functions-as-operators" title="Permalink to this headline">¶</a></h2>
<p>To solve the above issue, it is often useful to write an <a class="reference internal" href="glossary.html#term-operator"><code class="xref any std std-term docutils literal"><span class="pre">Operator</span></code></a> wrapping NumPy functions, thus allowing full access to the ODL ecosystem. To wrap the convolution operation, you could write a new class:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyConvolution</span><span class="p">(</span><span class="n">odl</span><span class="o">.</span><span class="n">Operator</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&quot;&quot;&quot;Operator for convolving with a given vector.&quot;&quot;&quot;</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector</span><span class="p">):</span>
<span class="gp">... </span>        <span class="sd">&quot;&quot;&quot;Initialize the convolution.&quot;&quot;&quot;</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">vector</span> <span class="o">=</span> <span class="n">vector</span>
<span class="gp">...</span>
<span class="gp">... </span>        <span class="c1"># Initialize operator base class.</span>
<span class="gp">... </span>        <span class="c1"># This operator maps from the space of vector to the same space and is linear</span>
<span class="gp">... </span>        <span class="nb">super</span><span class="p">(</span><span class="n">MyConvolution</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">domain</span><span class="o">=</span><span class="n">vector</span><span class="o">.</span><span class="n">space</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="n">vector</span><span class="o">.</span><span class="n">space</span><span class="p">,</span> <span class="n">linear</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>        <span class="c1"># The output of an Operator is automatically cast to an ODL vector</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vector</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;same&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This could then be called as an ODL Operator:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">op</span> <span class="o">=</span> <span class="n">MyConvolution</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">op</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">rn(3).element([4.0, 10.0, 12.0])</span>
</pre></div>
</div>
<p>Since this is an ODL Operator, it can be used with any of the ODL functionalities such as multiplication with scalar, composition, etc:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scaled_op</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">op</span>  <span class="c1"># scale by scalar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scaled_op</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">rn(3).element([8.0, 20.0, 24.0])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">r3</span><span class="o">.</span><span class="n">element</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inner_product_op</span> <span class="o">=</span> <span class="n">odl</span><span class="o">.</span><span class="n">InnerProductOperator</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">composed_op</span> <span class="o">=</span> <span class="n">inner_product_op</span> <span class="o">*</span> <span class="n">op</span>  <span class="c1"># create composition with inner product with vector [1, 1, 1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">composed_op</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">26.0</span>
</pre></div>
</div>
<p>For more information on ODL Operators, how to implement them and their features, see the guide on <a class="reference internal" href="operator_guide.html#operators-in-depth"><span class="std std-ref">Operators</span></a>.</p>
</div>
<div class="section" id="using-odl-with-scipy-linear-solvers">
<h2>Using ODL with SciPy linear solvers<a class="headerlink" href="#using-odl-with-scipy-linear-solvers" title="Permalink to this headline">¶</a></h2>
<p>SciPy includes <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/sparse.linalg.html">a series of very competent solvers</a> that may be useful in solving some linear problems. If you have invested some effort into writing an ODL operator, or perhaps wish to use a pre-existing operator then the function <a class="reference internal" href="../generated/odl.operator.oputils.as_scipy_operator.html#odl.operator.oputils.as_scipy_operator" title="odl.operator.oputils.as_scipy_operator"><code class="xref any py py-func docutils literal"><span class="pre">as_scipy_operator</span></code></a> creates a Python object that can be used in SciPy’s linear solvers. Here is a simple example of solving Poisson’s equation equation on an interval (<img class="math" src="../_images/math/55c011993ce308321018cfe5bd2bfb08c80d1b37.png" alt="- \Delta x = rhs"/>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">space</span> <span class="o">=</span> <span class="n">odl</span><span class="o">.</span><span class="n">uniform_discr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">op</span> <span class="o">=</span> <span class="o">-</span><span class="n">odl</span><span class="o">.</span><span class="n">Laplacian</span><span class="p">(</span><span class="n">space</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rhs</span> <span class="o">=</span> <span class="n">space</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span class="mf">0.4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="mf">0.6</span><span class="p">))</span>  <span class="c1"># indicator function on [0.4, 0.6]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="p">,</span> <span class="n">status</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">sparse</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">cg</span><span class="p">(</span><span class="n">odl</span><span class="o">.</span><span class="n">as_scipy_operator</span><span class="p">(</span><span class="n">op</span><span class="p">),</span> <span class="n">rhs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">array([ 0.02,  0.04,  0.06,  0.04,  0.02])</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vectorization_guide.html" class="btn btn-neutral float-right" title="Vectorized functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="linearspace_guide.html" class="btn btn-neutral" title="Linear spaces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, ODL development group.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.6.1.dev0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>