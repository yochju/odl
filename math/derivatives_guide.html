

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>On the different notions of derivative &mdash; odl 0.6.1.dev0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="odl 0.6.1.dev0 documentation" href="../index.html"/>
        <link rel="up" title="Mathematical Background" href="math.html"/>
        <link rel="next" title="Transformations" href="trafos/index.html"/>
        <link rel="prev" title="Resizing Operators" href="resizing_ops.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> odl
          

          
          </a>

          
            
            
              <div class="version">
                0.6.1.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with ODL</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../guide/guide.html">User’s guide – selected topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="math.html">Mathematical Background</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="linear_spaces.html">Linear Spaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="discretization.html">Discretizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="resizing_ops.html">Resizing Operators</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">On the different notions of derivative</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#derivative">Derivative</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-gateaux-derivative">The Gateaux derivative</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rules-for-the-frechet-derivative">Rules for the Fréchet derivative</a></li>
<li class="toctree-l4"><a class="reference internal" href="#implementations-in-odl">Implementations in ODL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gradient">Gradient</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Implementations in ODL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hessian">Hessian</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">Implementations in ODL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#spatial-gradient">Spatial Gradient</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">Implementations in ODL</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#subgradient">Subgradient</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">Implementations in ODL</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="trafos/index.html">Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="solvers/solvers.html">Solvers</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer zone</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/dev.html">Contributing to ODL</a></li>
</ul>
<p class="caption"><span class="caption-text">Useful facts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide/faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../refs.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../odl.html">odl</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">odl</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="math.html">Mathematical Background</a> &raquo;</li>
        
      <li>On the different notions of derivative</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/math/derivatives_guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="on-the-different-notions-of-derivative">
<span id="derivatives-in-depth"></span><h1>On the different notions of derivative<a class="headerlink" href="#on-the-different-notions-of-derivative" title="Permalink to this headline">¶</a></h1>
<p>The concept of a derivative is one of the core concepts of mathematical analysis analysis, and it is essential whenever a linear approximation of a function in some point is required.
Since the notion of derivative has different meanings in different contexts, this guide has been written to introduce the different derivative concepts used in ODL.</p>
<p>In short, different notions of derivatives that will be discussed here are:</p>
<ul class="simple">
<li><strong>Derivative</strong>. When we write “derivative” in ODL code and documentation, we mean the derivative of an <a class="reference internal" href="../guide/glossary.html#term-operator"><code class="xref any std std-term docutils literal"><span class="pre">Operator</span></code></a> <img class="math" src="../_images/math/91da29aa9c9353d7bcbeae2feb89a4f096c0743b.png" alt="A : \mathcal{X} \rightarrow \mathcal{Y}"/> w.r.t to a disturbance in <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/>, i.e a linear approximation of <img class="math" src="../_images/math/8408bc812d9685f57958838ba580aacdbc0cffb0.png" alt="A(x + h)"/> for small <img class="math" src="../_images/math/293fb39e1b93282c804a86186e721b32f829f1b2.png" alt="h"/>.
The derivative in a point <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/> is an <a class="reference internal" href="../guide/glossary.html#term-operator"><code class="xref any std std-term docutils literal"><span class="pre">Operator</span></code></a> <img class="math" src="../_images/math/77227c2a046c903679c064911933960a0a196966.png" alt="A'(x) : \mathcal{X} \rightarrow \mathcal{Y}"/>.</li>
<li><strong>Gradient</strong>. If the operator <img class="math" src="../_images/math/0043fe6507e9b1d112e07a2801e24927e267dd50.png" alt="A"/> is a <code class="xref any docutils literal"><span class="pre">functional</span></code>, i.e. <img class="math" src="../_images/math/cc7f6cd5e9a753430216238b4bcf5429fc8f9ac4.png" alt="A : \mathcal{X} \rightarrow \mathbb{R}"/>, then the gradient is the direction in which <img class="math" src="../_images/math/0043fe6507e9b1d112e07a2801e24927e267dd50.png" alt="A"/> increases the most.
The gradient in a point <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/> is a vector <img class="math" src="../_images/math/cc8ca8899db17bf4665ffe92084280b206d983d5.png" alt="[\nabla A](x)"/> in <img class="math" src="../_images/math/343a944b6a22dc1a14dfecd2ef0d255012e38380.png" alt="\mathcal{X}"/> such that <img class="math" src="../_images/math/eac63291916904c770941441a9f2d3cddafd22cb.png" alt="A'(x)(y) = \langle [\nabla A](x), y \rangle"/>.
The gradient operator is the operator <img class="math" src="../_images/math/89d4f56e710b7fe66b8fae6275bd76a7cf9f6949.png" alt="x \rightarrow [\nabla A](x)"/>.</li>
<li><strong>Hessian</strong>. The hessian in a point <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/> is the derivative operator of the gradient operator, i.e. <img class="math" src="../_images/math/89d007fc38d555a0b2d1a84bb6c675ea187a1bd9.png" alt="H(x) = [\nabla A]'(x)"/>.</li>
<li><strong>Spatial Gradient</strong>. The spatial gradient is only defined for spaces <img class="math" src="../_images/math/9cc580d60a4bf7265e3d67c94d78728933f76474.png" alt="\mathcal{F}(\Omega, \mathbb{F})"/> whose elements are functions over some domain <img class="math" src="../_images/math/8456ad1e58f514d7026fdb4ecc91fde9c45132c7.png" alt="\Omega \subset \mathbb{R}^d"/> taking values in <img class="math" src="../_images/math/862f34b3353bdbde5cfdfac98fa8db35c9fa3d40.png" alt="\mathbb{R}"/> or <img class="math" src="../_images/math/d077c9383c0323fad40ad51f8123ebbf38bba3aa.png" alt="\mathbb{C}"/>.
It can be seen as a vectorized version of the usual gradient, taken in each point in <img class="math" src="../_images/math/cd30e0b91d2b53728ae09ccac9d857b79b3adfcb.png" alt="\Omega"/>.</li>
<li><strong>Subgradient</strong>. The subgradient extends the notion of derivative to any convex functional and is used in some optimization solvers where the objective function is not differentiable.</li>
</ul>
<div class="section" id="derivative">
<h2>Derivative<a class="headerlink" href="#derivative" title="Permalink to this headline">¶</a></h2>
<p>The derivative is usually introduced for functions <img class="math" src="../_images/math/010c18f0921274edc23671293736a9a1c9d41a19.png" alt="f: \mathbb{R} \rightarrow \mathbb{R}"/> via the limit</p>
<div class="math">
<p><img src="../_images/math/93ecf6c7110a403cc885f9eac633702531c54791.png" alt="f'(x) = \lim_{h \rightarrow 0} \frac{f(x + h) - f(x)}{h}."/></p>
</div><p>Here we say that the derivative of <img class="math" src="../_images/math/875eb40014526135383caa89fd500ae40a835f56.png" alt="f"/> in <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/> is <img class="math" src="../_images/math/dad1abff2812a0f599df9bae314150e9d50b09b5.png" alt="f'(x)"/>.</p>
<p>This limit makes sense in one dimension, but once we start considering functions in higher dimension we get into trouble.
Consider <img class="math" src="../_images/math/14b798b6d4fc7e487dc69e3dcee3e77c504a9efc.png" alt="f: \mathbb{R}^n \rightarrow \mathbb{R}^m"/> – what would <img class="math" src="../_images/math/293fb39e1b93282c804a86186e721b32f829f1b2.png" alt="h"/> mean in this case?
An extension is the concept of a directional derivative.
The derivative of <img class="math" src="../_images/math/875eb40014526135383caa89fd500ae40a835f56.png" alt="f"/> in <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/> in <em>direction</em> <img class="math" src="../_images/math/b9d10b54744d07746b97f53c55eb98046fd76c8c.png" alt="d"/> is <img class="math" src="../_images/math/7a86c5636ae4351fe207cb9dad94a3ad3bc213cb.png" alt="f'(x)(d)"/>:</p>
<div class="math">
<p><img src="../_images/math/607e223dbbd94fdbe7c9c8b11308df5c5fa279d6.png" alt="f'(x)(d) = \lim_{h \rightarrow 0} \frac{f(x + dh) - f(x)}{h}."/></p>
</div><p>Here we see (as implied by the notation) that <img class="math" src="../_images/math/dad1abff2812a0f599df9bae314150e9d50b09b5.png" alt="f'(x)"/> is actually an operator</p>
<div class="math">
<p><img src="../_images/math/9f8db3745c5663e58c50d2ea1bffda90a4aef59b.png" alt="f'(x) : \mathbb{R}^n \rightarrow \mathbb{R}^m."/></p>
</div><p>We can rewrite this using the explicit requirement that <img class="math" src="../_images/math/dad1abff2812a0f599df9bae314150e9d50b09b5.png" alt="f'(x)"/> is a linear approximation of <img class="math" src="../_images/math/875eb40014526135383caa89fd500ae40a835f56.png" alt="f"/> at <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/>, i.e.</p>
<div class="math">
<p><img src="../_images/math/482af6965b2cc6f2fcb49884efa64c001e1b4672.png" alt="\lim_{\| d \| \rightarrow 0} \frac{\| f(x + d) - f(x) - f'(x)(d) \|}{\| d \|} = 0"/></p>
</div><p>This notion naturally extends to an <a class="reference internal" href="../guide/glossary.html#term-operator"><code class="xref any std std-term docutils literal"><span class="pre">Operator</span></code></a> <img class="math" src="../_images/math/1d8b12fd553b35fee54c378e08d3e5ef50f4e377.png" alt="f : \mathcal{X} \rightarrow \mathcal{Y}"/> between Banach spaces <img class="math" src="../_images/math/343a944b6a22dc1a14dfecd2ef0d255012e38380.png" alt="\mathcal{X}"/> and <img class="math" src="../_images/math/a1ff04bf6ed93828c62762f9cc289fd2fa018979.png" alt="\mathcal{Y}"/> with norms <img class="math" src="../_images/math/11b5da57ac75cc5a21f4d944a9a563ac012e23e5.png" alt="\| \cdot \|_\mathcal{X}"/> and <img class="math" src="../_images/math/d10cb68080a3335af3352484ef17b1346f8fb411.png" alt="\| \cdot \|_\mathcal{Y}"/>, respectively.
Here <img class="math" src="../_images/math/dad1abff2812a0f599df9bae314150e9d50b09b5.png" alt="f'(x)"/> is defined as the linear operator (if it exists) that satisfies</p>
<div class="math">
<p><img src="../_images/math/828fe8fc40c9fdd376b7edd727d0942878e68063.png" alt="\lim_{\| d \| \rightarrow 0} \frac{\| f(x + d) - f(x) - f'(x)(d) \|_\mathcal{Y}}{\| d \|_\mathcal{X}} = 0"/></p>
</div><p>This definition of the derivative is called the <em>Fréchet derivative</em>.</p>
<div class="section" id="the-gateaux-derivative">
<h3>The Gateaux derivative<a class="headerlink" href="#the-gateaux-derivative" title="Permalink to this headline">¶</a></h3>
<p>The concept of directional derivative can also be extended to Banach spaces, giving the <em>Gateaux</em> derivative.
The Gateaux derivative is more general than the Fréchet derivative, but is not always a linear operator. An example of a function that is Gateaux differentiable but not Fréchet differentiable is the absolute value function.
For this reason, when we write “derivative” in ODL, we generally mean the Fréchet derivative, but in some cases the Gateaux derivative can be used via duck-typing.</p>
</div>
<div class="section" id="rules-for-the-frechet-derivative">
<h3>Rules for the Fréchet derivative<a class="headerlink" href="#rules-for-the-frechet-derivative" title="Permalink to this headline">¶</a></h3>
<p>Many of the usual rules for derivatives also hold for the Fréchet derivative, i.e.</p>
<ul>
<li><p class="first">Linearity</p>
<div class="math">
<p><img src="../_images/math/c3fefb489088cc42b0e93af4ea4b559cf1d4a721.png" alt="(a f + b y)'(x)(y) = a f'(x)(y) + b g'(x)(y)"/></p>
</div></li>
<li><p class="first">Chain rule</p>
<div class="math">
<p><img src="../_images/math/39690af7d75b1449126fe2d65509768b68476aca.png" alt="(g \circ f)'(x)(y) = g'(f(x))(f'(x)(y))"/></p>
</div></li>
<li><p class="first">Linear operators are their own derivatives. If <img class="math" src="../_images/math/875eb40014526135383caa89fd500ae40a835f56.png" alt="f"/> linear, then</p>
<div class="math">
<p><img src="../_images/math/dc01d41160560000580d0ecb5750e9f08f6c507c.png" alt="f'(x)(y) = f(y)"/></p>
</div></li>
</ul>
</div>
<div class="section" id="implementations-in-odl">
<h3>Implementations in ODL<a class="headerlink" href="#implementations-in-odl" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The derivative is implemented in ODL  for <a class="reference internal" href="../guide/glossary.html#term-operator"><code class="xref any std std-term docutils literal"><span class="pre">Operator</span></code></a>’s via the <a class="reference internal" href="../generated/odl.operator.operator.Operator.derivative.html#odl.operator.operator.Operator.derivative" title="odl.operator.operator.Operator.derivative"><code class="xref any py py-meth docutils literal"><span class="pre">Operator.derivative</span></code></a> method.</li>
<li>It can be numerically computed using the <a class="reference internal" href="../generated/odl.solvers.functional.derivatives.NumericalDerivative.html#odl.solvers.functional.derivatives.NumericalDerivative" title="odl.solvers.functional.derivatives.NumericalDerivative"><code class="xref any py py-class docutils literal"><span class="pre">NumericalDerivative</span></code></a> operator.</li>
<li>Many of the operator arithmetic classes implement the usual rules for the Fréchet derivative, such as the chain rule, distributivity over addition etc.</li>
</ul>
</div>
</div>
<div class="section" id="gradient">
<h2>Gradient<a class="headerlink" href="#gradient" title="Permalink to this headline">¶</a></h2>
<p>In the classical setting of functionals <img class="math" src="../_images/math/2eb1f6e43f0f01a9bc2e8e2c8b56e276b92c9df3.png" alt="f : \mathbb{R}^n \rightarrow \mathbb{R}"/>, the gradient is the vector</p>
<div class="math">
<p><img src="../_images/math/0ec26ca589c30dcf444519b709ad6f504d3d1a50.png" alt="\nabla f =
\begin{bmatrix}
    \dfrac{\partial f}{\partial x_1}
    \dots
    \dfrac{\partial f}{\partial x_n}
\end{bmatrix}"/></p>
</div><p>This can be generalized to the setting of functionals <img class="math" src="../_images/math/9cea76eba13d894d6ba4702e6884883e00bb6385.png" alt="f : \mathcal{X} \rightarrow \mathbb{R}"/> mapping elements in some Banach space <img class="math" src="../_images/math/343a944b6a22dc1a14dfecd2ef0d255012e38380.png" alt="\mathcal{X}"/> to the real numbers by noting that the Fréchet derivative can be written as</p>
<div class="math">
<p><img src="../_images/math/8df413b141256dd6d0505c3095048943a00dec47.png" alt="f'(x)(y) = \langle y, [\nabla f](x) \rangle,"/></p>
</div><p>where <img class="math" src="../_images/math/671043f3bfec6b8ccd5f66f7044fbf5afee6c284.png" alt="[\nabla f](x)"/> lies in the dual space of <img class="math" src="../_images/math/343a944b6a22dc1a14dfecd2ef0d255012e38380.png" alt="\mathcal{X}"/>, denoted <img class="math" src="../_images/math/c33211072ce39d1d60acb970218eac09530564a9.png" alt="\mathcal{X}^*"/>. For most spaces in ODL, the spaces are <em>Hilbert</em> spaces where <img class="math" src="../_images/math/ab94152d6ef084d3753611d4b4c043be122fd5b8.png" alt="\mathcal{X} = \mathcal{X}^*"/> by the <a class="reference external" href="https://en.wikipedia.org/wiki/Riesz_representation_theorem">Riesz representation theorem</a> and hence <img class="math" src="../_images/math/17dee120af540010bd2cabb465979f82abe11ccb.png" alt="f'(x) \in \mathcal{X}"/>.</p>
<p>We call the (possibly nonlinear) operator <img class="math" src="../_images/math/39b242c33b9ad388f9247f5c3856159d8cef0bcf.png" alt="x \rightarrow [\nabla f](x)"/> the <em>Gradient operator</em> of <img class="math" src="../_images/math/875eb40014526135383caa89fd500ae40a835f56.png" alt="f"/>.</p>
<div class="section" id="id1">
<h3>Implementations in ODL<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The gradient is implemented in ODL <a class="reference internal" href="../generated/odl.solvers.functional.functional.Functional.html#odl.solvers.functional.functional.Functional" title="odl.solvers.functional.functional.Functional"><code class="xref any py py-class docutils literal"><span class="pre">Functional</span></code></a>’s via the <code class="xref any docutils literal"><span class="pre">Functional.gradient</span></code> method.</li>
<li>It can be numerically computed using the <a class="reference internal" href="../generated/odl.solvers.functional.derivatives.NumericalGradient.html#odl.solvers.functional.derivatives.NumericalGradient" title="odl.solvers.functional.derivatives.NumericalGradient"><code class="xref any py py-class docutils literal"><span class="pre">NumericalGradient</span></code></a> operator.</li>
</ul>
</div>
</div>
<div class="section" id="hessian">
<h2>Hessian<a class="headerlink" href="#hessian" title="Permalink to this headline">¶</a></h2>
<p>In the classical setting of functionals <img class="math" src="../_images/math/2eb1f6e43f0f01a9bc2e8e2c8b56e276b92c9df3.png" alt="f : \mathbb{R}^n \rightarrow \mathbb{R}"/>, the Hessian in a point <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/> is the matrix <img class="math" src="../_images/math/86bb558bad058e6ac3da9d5e2bb8c9fe4e869d4d.png" alt="H(x)"/> such that</p>
<div class="math">
<p><img src="../_images/math/3c79ddc01f5b71224ce3c71b6c3b8af6ee172af5.png" alt="H(x) =
\begin{bmatrix}
\dfrac{\partial^2 f}{\partial x_1^2} &amp; \dfrac{\partial^2 f}{\partial x_1\,\partial x_2} &amp; \cdots &amp; \dfrac{\partial^2 f}{\partial x_1\,\partial x_n} \\
\dfrac{\partial^2 f}{\partial x_2\,\partial x_1} &amp; \dfrac{\partial^2 f}{\partial x_2^2} &amp; \cdots &amp; \dfrac{\partial^2 f}{\partial x_2\,\partial x_n} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
\dfrac{\partial^2 f}{\partial x_n\,\partial x_1} &amp; \dfrac{\partial^2 f}{\partial x_n\,\partial x_2} &amp; \cdots &amp; \dfrac{\partial^2 f}{\partial x_n^2}
\end{bmatrix}"/></p>
</div><p>with the derivatives are evaluated in the point <img class="math" src="../_images/math/a59f68a4202623bb859a7093f0316bf466e6f75d.png" alt="x"/>.
It has the property that that the quadratic variation of <img class="math" src="../_images/math/875eb40014526135383caa89fd500ae40a835f56.png" alt="f"/> is</p>
<div class="math">
<p><img src="../_images/math/1e59bf0e50537d5f4cfa42b675ddb3bda0bf5b5d.png" alt="f(x + d) = f(x) + \langle d, [\nabla f](x)\rangle + \langle d, [H(x)](d)\rangle + o(\|d\|^2)"/></p>
</div><p>but also that the derivative of the gradient operator is</p>
<div class="math">
<p><img src="../_images/math/433b4026350743ac27b887fad15b517cbdbc403b.png" alt="\nabla f(x + d) = [\nabla f](x) + [H(x)](d) + o(\|d\|)"/></p>
</div><p>If we take this second property as the <em>definition</em> of the Hessian, it can easily be generalized to the setting of functionals <img class="math" src="../_images/math/9cea76eba13d894d6ba4702e6884883e00bb6385.png" alt="f : \mathcal{X} \rightarrow \mathbb{R}"/> mapping elements in some Hilbert space <img class="math" src="../_images/math/343a944b6a22dc1a14dfecd2ef0d255012e38380.png" alt="\mathcal{X}"/> to the real numbers.</p>
<div class="section" id="id2">
<h3>Implementations in ODL<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The Hessian is not explicitly implemented anywhere in ODL.
Instead it can be used in the form of the derivative of the gradient operator.
This is however not implemented for all functionals.</p>
<ul class="simple">
<li>For an example of a functional whose gradient has a derivative, see <a class="reference internal" href="../generated/odl.solvers.functional.example_funcs.RosenbrockFunctional.html#odl.solvers.functional.example_funcs.RosenbrockFunctional" title="odl.solvers.functional.example_funcs.RosenbrockFunctional"><code class="xref any py py-class docutils literal"><span class="pre">RosenbrockFunctional</span></code></a>.</li>
<li>It can be computed by taking the <a class="reference internal" href="../generated/odl.solvers.functional.derivatives.NumericalDerivative.html#odl.solvers.functional.derivatives.NumericalDerivative" title="odl.solvers.functional.derivatives.NumericalDerivative"><code class="xref any py py-class docutils literal"><span class="pre">NumericalDerivative</span></code></a> of the gradient, which can in turn be computed using the <a class="reference internal" href="../generated/odl.solvers.functional.derivatives.NumericalGradient.html#odl.solvers.functional.derivatives.NumericalGradient" title="odl.solvers.functional.derivatives.NumericalGradient"><code class="xref any py py-class docutils literal"><span class="pre">NumericalGradient</span></code></a>.</li>
</ul>
</div>
</div>
<div class="section" id="spatial-gradient">
<h2>Spatial Gradient<a class="headerlink" href="#spatial-gradient" title="Permalink to this headline">¶</a></h2>
<p>The spatial gradient of a function <img class="math" src="../_images/math/45510aad6d0dc2836860789462d1c1f5ab1065a4.png" alt="f \in \mathcal{F}(\Omega, \mathbb{R})"/> is an element in the function space <img class="math" src="../_images/math/eaf93166f067f97f84c9f0764fc58c364a5a28d9.png" alt="\mathcal{F}(\Omega, \mathbb{R}^n)"/> such that for any <img class="math" src="../_images/math/430d859da6e843a17e8cc086fa356bfc119cb192.png" alt="x, d \in \Omega"/>.</p>
<div class="math">
<p><img src="../_images/math/7a9d0727da913e4ef3d9def325341a8f4d957d61.png" alt="\lim_{h \rightarrow 0} \frac{\| f(x + h d) - f(x) - \langle h d, \text{grad} f \rangle \|}{h} = 0"/></p>
</div><div class="section" id="id3">
<h3>Implementations in ODL<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The spatial gradient is implemented in ODL in the <a class="reference internal" href="../generated/odl.discr.diff_ops.Gradient.html#odl.discr.diff_ops.Gradient" title="odl.discr.diff_ops.Gradient"><code class="xref any py py-class docutils literal"><span class="pre">Gradient</span></code></a> operator.</li>
<li>Several related operators such as the <a class="reference internal" href="../generated/odl.discr.diff_ops.PartialDerivative.html#odl.discr.diff_ops.PartialDerivative" title="odl.discr.diff_ops.PartialDerivative"><code class="xref any py py-class docutils literal"><span class="pre">PartialDerivative</span></code></a> and <a class="reference internal" href="../generated/odl.discr.diff_ops.Laplacian.html#odl.discr.diff_ops.Laplacian" title="odl.discr.diff_ops.Laplacian"><code class="xref any py py-class docutils literal"><span class="pre">Laplacian</span></code></a> are also available.</li>
</ul>
</div>
</div>
<div class="section" id="subgradient">
<h2>Subgradient<a class="headerlink" href="#subgradient" title="Permalink to this headline">¶</a></h2>
<p>The Subgradient (also <em>subderivative</em> or <em>subdifferential</em>) of a <em>convex</em> function <img class="math" src="../_images/math/9cea76eba13d894d6ba4702e6884883e00bb6385.png" alt="f : \mathcal{X} \rightarrow \mathbb{R}"/>, mapping a Banach space <img class="math" src="../_images/math/343a944b6a22dc1a14dfecd2ef0d255012e38380.png" alt="\mathcal{X}"/> to <img class="math" src="../_images/math/862f34b3353bdbde5cfdfac98fa8db35c9fa3d40.png" alt="\mathbb{R}"/>, is defined as the set-valued function <img class="math" src="../_images/math/22b9b05e88e960a0330a42ea2e283ff19a7ba445.png" alt="\partial f : \mathcal{X} \rightarrow 2^{\mathcal{X}^*}"/> whose values are:</p>
<div class="math">
<p><img src="../_images/math/30d40ec96cd5ba67c988e6c6b3f076f1f1d93ef1.png" alt="[\partial f](x_0) = \{c \in \mathcal{X}^* \ s.t. \ f(x) - f(x_0) \geq \langle c , x - x_0 \rangle \forall x \in \mathcal{X} \}"/></p>
</div><p>for functions that are differentiable in the usual sense, this reduces to the usual gradient.</p>
<div class="section" id="id4">
<h3>Implementations in ODL<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>The subgradient is not explicitly implemented in odl, but is implicitly used in the proximal operators.
See <a class="reference internal" href="solvers/nonsmooth/proximal_operators.html#proximal-operators"><span class="std std-ref">Proximal Operators</span></a> for more information.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="trafos/index.html" class="btn btn-neutral float-right" title="Transformations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="resizing_ops.html" class="btn btn-neutral" title="Resizing Operators" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, ODL development group.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.6.1.dev0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>